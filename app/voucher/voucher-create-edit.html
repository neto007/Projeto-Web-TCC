<div class="{{::$ctrl.styles.default}}">
    <form name="formVoucher" ng-submit="$ctrl.salvar(formVoucher.$valid)" novalidate>
        <!--Formulario Evento do Voucher  -->
        <div layout="row" layout-align="start" flex>
            <md-input-container flex="20">
            </md-input-container>
            <md-input-container flex="60">
                <label>Estabelecimento</label>

                <md-select name="idEstabelecimento" ng-model="$ctrl.voucher.idEstabelecimento" ng-change="$ctrl.selecionarEstabelecimento()" required/>

                <md-option ng-repeat="estabelecimento in $ctrl.estabelecimentos" value="{{estabelecimento.id}}">
                    {{estabelecimento.nome}}
                </md-option>
                </md-select>
                <div class="errors" ng-messages="formVoucher.estabelecimento.$error">
                    <div ng-message="required">Por favor, selecione um Estabelecimento</div>
                </div>
            </md-input-container>
        </div>

        <!--Formulario Evento do Voucher  -->
        <div layout="row" layout-align="start" flex>
            <md-input-container flex="20">
            </md-input-container>
            <md-input-container flex="60">
                <label>Evento</label>
                <md-select name="idEvento" ng-model="$ctrl.voucher.idEvento" placeholder="Todos os eventos">
                    <md-option value="">Todos os eventos</md-option>
                    <md-option ng-repeat="evento in $ctrl.eventos" value="{{ evento.id }}">{{ evento.nome }}</md-option>
                </md-select>
                <div class="errors" ng-messages="formVoucher.evento.$error">
                    <div ng-message="required">Por favor, selecione um Evento</div>
                </div>
            </md-input-container>
        </div>

        <!--Formulario Titulo do Voucher  -->
        <div layout="row" layout-align="start" flex>
            <md-input-container flex="20">
            </md-input-container>
            <md-input-container flex="60">

                <label>Nome </label>
                <input ng-model="$ctrl.voucher.nome" name="nome" required minlength="3" maxlength="40" />

                <div ng-messages="formVoucher.nome.$error" style="color:red" role="alert">
                    <div ng-message="required">É necessário preencher um nome.</div>
                    <div ng-message="minlength">Nome deverá ter no mínimo 3 caractéres.</div>
                </div>



            </md-input-container>
        </div>

        <!--Formulario Tipo de Voucher  -->
        <div layout="row" layout-align="start" flex>
            <md-input-container flex="20">
            </md-input-container>
            <label class="">Tipo de validade do Voucher:</label>
        </div>

        <div layout="row">

            <div flex-gt-sm="10" flex="20">
            </div>
            <div flex-gt-sm="50" flex="28">

                <div layout="row" layout-align="start" flex>
                    <md-input-container flex="20">
                    </md-input-container>
                    <div layout="column">

                        <!-- Tempo -->
                        <div layout="row" layout-align="start" flex>
                            <md-checkbox ng-model="$ctrl.check1" class="md-primary"></md-checkbox>
                            <div layout="row" flex-gt-md="100" class="range layout-column flex-gt-md-100">
                                <md-input-container class="md-input-has-placeholder">
                                    <label></label>
                                    <input mdc-datetime-picker="" date="true" time="true" type="text" ng-model="$ctrl.voucher.dataInicio" placeholder="Data Inicial" max-date="dateTimeEnd" class=" md-input" readonly="readonly" id="input_0" ng-disabled="!$ctrl.check1">
                                    <div class="md-errors-spacer"></div>
                                </md-input-container>
                                <md-input-container class="md-input-has-placeholder {{$ctrl.styles.spaceElementosDate}}">
                                    <label></label>
                                    <input mdc-datetime-picker="" date="true" time="true" type="text" ng-model="$ctrl.voucher.dataFim" placeholder="Data Final" min-date="$ctrl.voucher.dataInicio"="dateTimeEnd" class="md-input" readonly="readonly" id="input_1" ng-disabled="!$ctrl.check1">
                                    <div class="md-errors-spacer"></div>
                                </md-input-container>
                            </div>
                        </div>

                        <!-- Quantidade -->
                        <div layout="row" layout-align="start" flex>
                            <md-checkbox ng-model="$ctrl.check2" aria-label="Quantidade" class="md-primary"></md-checkbox>
                            <div layout="row" layout-align="start" flex>
                                <md-input-container flex="60">
                                    <input name="quantidade" ng-model="$ctrl.voucher.quantidade" ng-disabled="!$ctrl.check2" min="0" type="number" />
                                    <label>Quantidade</label>
                                    <div ng-messages="formVoucher.quantidade.$error" style="color:red" role="alert">
                                        <div ng-message="min">Minimo deve ser maior que 0.</div>
                                    </div>
                                </md-input-container>
                            </div>
                        </div>
                    </div>

                </div>


            </div>
            <div flex-gt-sm="33" flex="66">

                <!--Imagem -->
                <div layout="row" layout-align="start" flex>
                    <md-card>
                        <input type="file" style="visibility: hidden;" id="voucher-image" ng-model="$ctrl.voucher.imagem" base-sixty-four-input />
                        <label for="voucher-image">
                            <img style="width: 100%;" ng-if="$ctrl.voucher.imagem.base64" ng-src="data:image/png;base64,{{$ctrl.voucher.imagem.base64}}" class="md-card-image" alt="Washed Out">
                            <md-card-actions layout="row" layout-align="start">
                                <md-button class="md-icon-button">
                                    <ng-md-icon icon="file_upload"></ng-md-icon>
                                </md-button>
                                <p>{{$ctrl.voucher.imagem.base64 ? 'Alterar' : 'Enviar'}} imagem</p>
                            </md-card-actions>
                        </label>
                    </md-card>
                </div>


            </div>
        </div>

























        <!-- Botao Salvar-->
        <div layout="row" layout-align="end">
            <md-input-container flex="25">
                <md-button class="md-raised md-primary" type="submit">Salvar</md-button>
            </md-input-container>
        </div>
    </form>
</div>